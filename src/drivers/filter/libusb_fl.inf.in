[Version]
Signature = "$Chicago$"
Class     = USB
ClassGUID = {36FC9E60-C465-11CF-8056-444553540000}
provider  = %libusb-win32%
DriverVer = @INF_VERSION@

[Manufacturer]
%libusb-win32%=libusb-win32

[SourceDisksNames]
1 = "LibUsb-Win32 Filter Driver Installation Disk",,

[SourceDisksFiles]
libusbfl.sys = 1,, 
libusb0.dll  = 1,, 

[DestinationDirs]
LIBUSB_FILTER.Files.Sys = 10,System32\Drivers
LIBUSB_FILTER.Files.Dll = 10,System32

[LIBUSB_FILTER.Files.Sys]
libusbfl.sys

[LIBUSB_FILTER.Files.Dll]
libusb0.dll

[DefaultInstall]
CopyFiles = LIBUSB_FILTER.Files.Sys, LIBUSB_FILTER.Files.Dll
AddReg    = LIBUSB_FILTER.AddReg

[DefaultInstall.NT]
CopyFiles = LIBUSB_FILTER.Files.Sys, LIBUSB_FILTER.Files.Dll
AddReg    = LIBUSB_FILTER.AddReg.NT

[UnInstall]
DelFiles   = LIBUSB_FILTER.Files.Sys, LIBUSB_FILTER.Files.Dll
DelReg     = LIBUSB_FILTER.AddReg
DelReg     = LIBUSB_FILTER.AddReg.NT
DelService = libusbfl,, LIBUSB_FILTER.AddService

[LIBUSB_FILTER.AddReg]
HKLM, System\CurrentControlSet\Services\Class\USB, LowerFilters, 0x00000000, libusbfl.sys
HKLM, Software\LibUsb-Win32\, Version,, "@INF_VERSION@"

[LIBUSB_FILTER.AddReg.NT]
HKLM, System\CurrentControlSet\Control\Class\{36FC9E60-C465-11CF-8056-444553540000}, LowerFilters, 0x00010008, libusbfl
HKLM, Software\LibUsb-Win32\, Version,, "@INF_VERSION@"

[DefaultInstall.NT.Services]
AddService = libusbfl,, LIBUSB_FILTER.AddService

[LIBUSB_FILTER.AddService]
DisplayName    = "LibUsb-Win32 - Filter Driver @INF_VERSION@"
ServiceType    = 1
StartType      = 3
ErrorControl   = 0
ServiceBinary  = %12%\libusbfl.sys

[Strings]
libusb-win32 = "http://libusb-win32.sourceforge.net"
